@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-text-primary: #1a202c;
  --color-text-secondary: #4a5568;
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #edf2f7;
  --max-width: 1100px;
  --safe-area-padding: env(safe-area-inset-right, 1rem);
}

.dark {
  --color-text-primary: #f7fafc;
  --color-text-secondary: #e2e8f0;
  --color-bg-primary: #1a202c;
  --color-bg-secondary: #2d3748;
}

/* Base styles to ensure content stays within viewport */
html {
  scroll-behavior: smooth;
  width: 100%;
  -webkit-text-size-adjust: 100%;
}

body {
  @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-200 ease-in-out;
  width: 100%;
  min-height: 100vh;
  margin: 0;
  padding: 0;
  position: relative;
}

/* Ensure text content wraps properly */
*, *::before, *::after {
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
  min-width: 0; /* Prevents flex items from overflowing */
}

/* Ensure all text elements wrap properly */
h1, h2, h3, h4, h5, h6, p, a, span, div {
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

.content-box {
  @apply bg-[var(--color-surface)] rounded-lg p-4;
}

.btn {
  @apply bg-gray-700 text-white py-2 px-4 rounded hover:bg-gray-600 transition-colors;
}

/* Container styles */
.container {
  width: 100%;
  max-width: min(var(--max-width), 100% - (2 * var(--safe-area-padding)));
  margin: 0 auto;
  padding-left: max(1rem, var(--safe-area-padding));
  padding-right: max(1rem, var(--safe-area-padding));
  box-sizing: border-box;
}

/* Responsive media */
img, video, iframe {
  max-width: 100%;
  height: auto;
  display: block; /* Prevents inline spacing issues */
}

/* Ensure tables don't overflow */
table {
  width: 100%;
  max-width: 100%;
  display: block;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Ensure form elements stay within bounds */
input, select, textarea {
  max-width: 100%;
  width: 100%;
}

/* Ensure fixed/absolute positioned elements stay within viewport */
.fixed, .absolute {
  max-width: 100vw;
  width: max-content;
  max-height: 100vh;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .container {
    padding-left: max(0.5rem, var(--safe-area-padding));
    padding-right: max(0.5rem, var(--safe-area-padding));
  }

  /* Adjust font sizes for better mobile display */
  h1 { font-size: clamp(1.5rem, 5vw, 2.5rem); }
  h2 { font-size: clamp(1.25rem, 4vw, 2rem); }
  h3 { font-size: clamp(1.1rem, 3vw, 1.75rem); }
}

/* Ensure dropdowns and modals stay within viewport */
.dropdown-content, .modal-content {
  max-width: min(100vw - 2rem, 40rem);
  max-height: min(100vh - 4rem, 40rem);
  width: max-content;
  position: relative;
}